(function(_0x163604,_0x522390){const _0xfd6790=a2_0x5d03,_0x3d9b16=_0x163604();while(!![]){try{const _0x12b4d6=-parseInt(_0xfd6790(0x195,'j4)u'))/0x1+-parseInt(_0xfd6790(0x181,'6ZGc'))/0x2+-parseInt(_0xfd6790(0x17b,'S&0i'))/0x3*(parseInt(_0xfd6790(0x188,'khMZ'))/0x4)+-parseInt(_0xfd6790(0x17d,'UPMX'))/0x5+parseInt(_0xfd6790(0x18f,'mHJh'))/0x6*(parseInt(_0xfd6790(0x196,'*0q$'))/0x7)+parseInt(_0xfd6790(0x185,'Bb$p'))/0x8+parseInt(_0xfd6790(0x194,'Ha]c'))/0x9*(parseInt(_0xfd6790(0x186,'E%^k'))/0xa);if(_0x12b4d6===_0x522390)break;else _0x3d9b16['push'](_0x3d9b16['shift']());}catch(_0x201421){_0x3d9b16['push'](_0x3d9b16['shift']());}}}(a2_0x51cf,0xe288b));const a2_0x3b9a26=(function(){let _0x4281e4=!![];return function(_0x299f0d,_0x9d5049){const _0x176df6=_0x4281e4?function(){if(_0x9d5049){const _0x318b62=_0x9d5049['apply'](_0x299f0d,arguments);return _0x9d5049=null,_0x318b62;}}:function(){};return _0x4281e4=![],_0x176df6;};}()),a2_0x382348=a2_0x3b9a26(this,function(){const _0x3ff21b=a2_0x5d03,_0x689b3c={'sEJGd':'(((.+)+)+)+$'};return a2_0x382348['toString']()['search'](_0x3ff21b(0x190,'GO#k'))['toString']()['constructor'](a2_0x382348)['search'](_0x689b3c['sEJGd']);});a2_0x382348();const a2_0x2bea85=(function(){let _0x336483=!![];return function(_0x573114,_0xc09034){const _0x495b11=_0x336483?function(){if(_0xc09034){const _0x325fac=_0xc09034['apply'](_0x573114,arguments);return _0xc09034=null,_0x325fac;}}:function(){};return _0x336483=![],_0x495b11;};}()),a2_0x45dc07=a2_0x2bea85(this,function(){const _0x31ac9c=a2_0x5d03,_0x16fc16={'xAqTE':function(_0x42025f,_0x1f1936){return _0x42025f+_0x1f1936;},'dNGEY':'return\x20(function()\x20','UbWJD':'{}.constructor(\x22return\x20this\x22)(\x20)','xCjHL':'error','mCLMr':'trace','iUmRI':function(_0x154102,_0x5ac343){return _0x154102<_0x5ac343;}};let _0x283bdc;try{const _0x3fa42d=Function(_0x16fc16['xAqTE'](_0x16fc16['dNGEY'],_0x16fc16['UbWJD'])+');');_0x283bdc=_0x3fa42d();}catch(_0x47bd19){_0x283bdc=window;}const _0x28bd66=_0x283bdc['console']=_0x283bdc['console']||{},_0x2b474c=['log','warn','info',_0x16fc16['xCjHL'],_0x31ac9c(0x17f,'qB^T'),'table',_0x16fc16[_0x31ac9c(0x191,'%D@J')]];for(let _0x59316a=0x0;_0x16fc16['iUmRI'](_0x59316a,_0x2b474c['length']);_0x59316a++){const _0x5697fe=a2_0x2bea85['constructor']['prototype']['bind'](a2_0x2bea85),_0x32c0d2=_0x2b474c[_0x59316a],_0x2bcef8=_0x28bd66[_0x32c0d2]||_0x5697fe;_0x5697fe['__proto__']=a2_0x2bea85['bind'](a2_0x2bea85),_0x5697fe['toString']=_0x2bcef8[_0x31ac9c(0x189,'Ha]c')]['bind'](_0x2bcef8),_0x28bd66[_0x32c0d2]=_0x5697fe;}});function a2_0x5d03(_0x50f1ac,_0x28a884){const _0x1c793d=a2_0x51cf();return a2_0x5d03=function(_0x45dc07,_0x2bea85){_0x45dc07=_0x45dc07-0x17b;let _0x2cbd4b=_0x1c793d[_0x45dc07];if(a2_0x5d03['IsHMkM']===undefined){var _0x35a451=function(_0x2cd670){const _0x4c9e69='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x39031a='',_0x5257a3='',_0x491fae=_0x39031a+_0x35a451;for(let _0x78dba9=0x0,_0x4c18b2,_0x24a476,_0x222789=0x0;_0x24a476=_0x2cd670['charAt'](_0x222789++);~_0x24a476&&(_0x4c18b2=_0x78dba9%0x4?_0x4c18b2*0x40+_0x24a476:_0x24a476,_0x78dba9++%0x4)?_0x39031a+=_0x491fae['charCodeAt'](_0x222789+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4c18b2>>(-0x2*_0x78dba9&0x6)):_0x78dba9:0x0){_0x24a476=_0x4c9e69['indexOf'](_0x24a476);}for(let _0x44549a=0x0,_0x412d0b=_0x39031a['length'];_0x44549a<_0x412d0b;_0x44549a++){_0x5257a3+='%'+('00'+_0x39031a['charCodeAt'](_0x44549a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5257a3);};const _0x5d03cc=function(_0x2e2e54,_0x5accd0){let _0x5cabdb=[],_0x25fba5=0x0,_0x51e5ec,_0x48e561='';_0x2e2e54=_0x35a451(_0x2e2e54);let _0x2476a5;for(_0x2476a5=0x0;_0x2476a5<0x100;_0x2476a5++){_0x5cabdb[_0x2476a5]=_0x2476a5;}for(_0x2476a5=0x0;_0x2476a5<0x100;_0x2476a5++){_0x25fba5=(_0x25fba5+_0x5cabdb[_0x2476a5]+_0x5accd0['charCodeAt'](_0x2476a5%_0x5accd0['length']))%0x100,_0x51e5ec=_0x5cabdb[_0x2476a5],_0x5cabdb[_0x2476a5]=_0x5cabdb[_0x25fba5],_0x5cabdb[_0x25fba5]=_0x51e5ec;}_0x2476a5=0x0,_0x25fba5=0x0;for(let _0x5ef7f7=0x0;_0x5ef7f7<_0x2e2e54['length'];_0x5ef7f7++){_0x2476a5=(_0x2476a5+0x1)%0x100,_0x25fba5=(_0x25fba5+_0x5cabdb[_0x2476a5])%0x100,_0x51e5ec=_0x5cabdb[_0x2476a5],_0x5cabdb[_0x2476a5]=_0x5cabdb[_0x25fba5],_0x5cabdb[_0x25fba5]=_0x51e5ec,_0x48e561+=String['fromCharCode'](_0x2e2e54['charCodeAt'](_0x5ef7f7)^_0x5cabdb[(_0x5cabdb[_0x2476a5]+_0x5cabdb[_0x25fba5])%0x100]);}return _0x48e561;};a2_0x5d03['TSHMVI']=_0x5d03cc,_0x50f1ac=arguments,a2_0x5d03['IsHMkM']=!![];}const _0x382348=_0x1c793d[0x0],_0x3b9a26=_0x45dc07+_0x382348,_0x51cf58=_0x50f1ac[_0x3b9a26];if(!_0x51cf58){if(a2_0x5d03['GwAOLw']===undefined){const _0x2044b1=function(_0x4ec41b){this['PmuPCN']=_0x4ec41b,this['owKpFo']=[0x1,0x0,0x0],this['WhKZFL']=function(){return'newState';},this['XHDmrA']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gzQyii']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2044b1['prototype']['abUtzB']=function(){const _0x3d9a10=new RegExp(this['XHDmrA']+this['gzQyii']),_0x7a48ff=_0x3d9a10['test'](this['WhKZFL']['toString']())?--this['owKpFo'][0x1]:--this['owKpFo'][0x0];return this['kxkgQC'](_0x7a48ff);},_0x2044b1['prototype']['kxkgQC']=function(_0x5c8f94){if(!Boolean(~_0x5c8f94))return _0x5c8f94;return this['xkFEMr'](this['PmuPCN']);},_0x2044b1['prototype']['xkFEMr']=function(_0x11aebd){for(let _0x54caa3=0x0,_0x450db9=this['owKpFo']['length'];_0x54caa3<_0x450db9;_0x54caa3++){this['owKpFo']['push'](Math['round'](Math['random']())),_0x450db9=this['owKpFo']['length'];}return _0x11aebd(this['owKpFo'][0x0]);},new _0x2044b1(a2_0x5d03)['abUtzB'](),a2_0x5d03['GwAOLw']=!![];}_0x2cbd4b=a2_0x5d03['TSHMVI'](_0x2cbd4b,_0x2bea85),_0x50f1ac[_0x3b9a26]=_0x2cbd4b;}else _0x2cbd4b=_0x51cf58;return _0x2cbd4b;},a2_0x5d03(_0x50f1ac,_0x28a884);}a2_0x45dc07();import{HttpsProxyAgent}from'https-proxy-agent';function a2_0x51cf(){const _0x4bf963=['WRS9jmo9W7xdOeP/E8kDW43cQSkN','lXhdQSkPxW','WQG2FghcIa9VWOZdMq','iSkxW6JcNw7dTSknWPpcIa','WQ3dS8osjqzhFZXXW6ddP2Tn','vbJdGW','urWyA1K','buhdJG/cRSkuW6FdR8o5W7GMeKeWEgy','vmksASoEeCowWQ7cMrNdKCooW64g','W7a1FSopw8kSWO0MESofyf84lW','WRG/WPhcTSkDeCkFW53dRuLxnSoZ','q2RcKvfZWOCnxmoo','WOFcUGCLo8o8W6NcLG','WRGFW5OCdSo8WRvJkIlcI3K0W7xcV0xcQcqIW40','WPhdV8kDW6pdMG','zbOxiSk6WR/cRSkjlmo5yq','WQ1RjCkDhmoRW55XDq','W5iwW5/cQca','W5ZdThZdR2r3W54','W4bNsmo4WOf/eKKTsXLF','WPJdMCk9W4/dKq','CmkhWR1dveZcU8kUWRBdSrddNCkq','WPGFhmkMWQ0XaXZcGw4Q','W4ldRtuKkmopW6hcPa','AMpcR8oBkfulW4O+W4BcMmoR','y8onWRZdGZNcSSoQWPlcPCkYB8o0ra','WPtdUCksW6FdKmoqimkJW7JcPCkfnW','CCo+oCk7W43dSsPkWPpcNGC','vGCbz1KNW5xdSmkg'];a2_0x51cf=function(){return _0x4bf963;};return a2_0x51cf();}import{SocksProxyAgent}from'socks-proxy-agent';import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';import a2_0x5cc2b7 from'../utils/logger.js';export default class Core extends API{constructor(_0xaed12e,_0x1a9b33){const _0x2b7332='6|5|3|4|1|7|0|2'['split']('|');let _0x18498f=0x0;while(!![]){switch(_0x2b7332[_0x18498f++]){case'0':this['point']={'pointsToday':0x0,'pointsTotal':0x0};continue;case'1':this['maxwssReconnectAttempts']=0x5;continue;case'2':this['pingCount']=0x0;continue;case'3':this['socket']=null;continue;case'4':this['wssReconnectAttempts']=0x0;continue;case'5':this['acc']=_0xaed12e;continue;case'6':super('https://ikknngrgxuxgjhplbpey.supabase.co',_0x1a9b33);continue;case'7':this['pingInterval']=0x0;continue;}break;}}async['login'](){const _0x3e8397=a2_0x5d03,_0x1273b5={'axsVJ':'POST'};await Helper['delay'](0x3e8,this[_0x3e8397(0x182,'qS)F')],'Try\x20to\x20login...',this);const _0x2a039c=await this['fetch']('/auth/v1/token?grant_type=password',_0x1273b5['axsVJ'],undefined,{'email':this['acc']['email'],'password':this['acc']['password'],'gotrue_meta_security':{}});_0x2a039c['status']==0xc8?(this['token']=_0x2a039c[_0x3e8397(0x197,'%D@J')],this['refreshToken']=_0x2a039c['refresh_token'],this['user']=_0x2a039c['user']):this['handleError'](_0x2a039c);}async['getUser'](){const _0x416867=a2_0x5d03;await Helper['delay'](0x3e8,this['acc'],'Getting\x20User\x20Information...',this);const _0x28dc04=await this['fetch'](_0x416867(0x187,'Usao'),'GET',this[_0x416867(0x183,'kZB5')]);if(_0x28dc04['status']==0xc8){if('VErtK'!=='VErtK'){if(_0x1cc701){const _0x3d9719=_0xde579e['apply'](_0x5353d5,arguments);return _0x1832bf=null,_0x3d9719;}}else this['user']=_0x28dc04;}else this['handleError'](_0x28dc04);}async['connectWebSocket'](){const _0x2f518b=a2_0x5d03,_0x402dca={'heaic':'WebSocket\x20connection\x20closed\x20unexpectedly.'};let _0x40aa9e;if(this['proxy']){if(this['proxy']['startsWith']('http'))_0x40aa9e=new HttpsProxyAgent(this['proxy']);if(this['proxy']['startsWith']('socks'))_0x40aa9e=new SocksProxyAgent(this['proxy']);}this[_0x2f518b(0x180,'*0q$')]='wss://secure.ws.teneo.pro/websocket?userId='+this['user']['id']+_0x2f518b(0x192,'l#dn'),this['socket']=new WebSocket(this['socketURL'],{'agent':_0x40aa9e}),this['socket']['onopen']=async()=>{const _0x314094=_0x2f518b;await Helper[_0x314094(0x18b,'%D@J')](0x1f4,this['acc'],'WebSocket\x20connection\x20opened.',this),this[_0x314094(0x18a,'*j7e')]=0x0;},this['socket'][_0x2f518b(0x18d,'E%^k')]=async _0x1571c0=>{const _0x10f45a=_0x2f518b,_0x435ad1=JSON[_0x10f45a(0x18e,'xp[]')](_0x1571c0['data']);a2_0x5cc2b7['info'](_0x1571c0['data']),await Helper['delay'](0x7d0,this['acc'],'Received\x20message:\x20'+_0x435ad1['message'],this),_0x435ad1[_0x10f45a(0x193,'Gx&$')]&&(this['point']={'pointsToday':_0x435ad1['pointsToday'],'pointsTotal':_0x435ad1['pointsTotal']},await Helper['delay'](0x3e8,this['acc'],'User\x20Point\x20Updated',this)),this['startPing']();},this['socket']['onerror']=async _0x32eb18=>{await Helper['delay'](0x1f4,this['acc'],'WebSocket\x20error:\x20'+_0x32eb18,this);},this['socket']['onclose']=async _0x5079c2=>{_0x5079c2['wasClean']?await Helper['delay'](0x1f4,this['acc'],'WebSocket\x20connection\x20closed\x20cleanly.',this):await Helper['delay'](0x1f4,this['acc'],_0x402dca['heaic'],this),await this['stopPing'](),await this['reconnectWebSocket']();};}async['reconnectWebSocket'](){const _0x146520=a2_0x5d03,_0x5b2b9f={'UXYvC':function(_0x307e73,_0x1d2904){return _0x307e73<_0x1d2904;},'BgfJB':function(_0x2bd4f0,_0x138303){return _0x2bd4f0*_0x138303;},'rLWCg':'Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.'};if(_0x5b2b9f['UXYvC'](this['wssReconnectAttempts'],this['maxwssReconnectAttempts'])){this['wssReconnectAttempts']+=0x1;const _0x107fc2=Math['min'](0x1388,_0x5b2b9f['BgfJB'](0x3e8,this['wssReconnectAttempts']));Helper['delay'](_0x107fc2,this['acc'],'Attempting\x20to\x20reconnect\x20(#'+this['wssReconnectAttempts']+')...',this)['then'](()=>this[_0x146520(0x184,'f5g3')]());}else Helper['delay'](0x3e8,this['acc'],_0x5b2b9f['rLWCg'],this);}async['sendPing'](){const _0x1840d5=a2_0x5d03,_0x447991={'zPoJP':function(_0x40c7f7,_0x4c3c3e){return _0x40c7f7+_0x4c3c3e;}};this['pingCount']=_0x447991['zPoJP'](this['pingCount'],0x1),await Helper['delay'](0x0,this['acc'],'Sending\x20PING\x20'+this['pingCount'],this),this['socket']['send'](JSON[_0x1840d5(0x17c,'kZB5')]({'type':'PING'})),await Helper['delay'](0x2710,this['acc'],'PING\x20'+this['pingCount']+'\x20Sended',this);}async['startPing'](){const _0x409256={'PBAmY':function(_0x2b594e,_0x2be67e){return _0x2b594e===_0x2be67e;},'Mmelg':function(_0x4ebdfe,_0x36e952,_0x38220d){return _0x4ebdfe(_0x36e952,_0x38220d);}};!this['pingInterval']&&(await Helper['delay'](0x0,this['acc'],'Starting\x20PING\x20interval,\x20Ping\x20will\x20be\x20send\x20every\x2010\x20Seconds',this),this['pingInterval']=_0x409256['Mmelg'](setInterval,async()=>{this['socket']&&_0x409256['PBAmY'](this['socket']['readyState'],WebSocket['OPEN'])&&await this['sendPing']();},0x2710));}async['stopPing'](){const _0x159002=a2_0x5d03,_0x5e0f05={'vKrAO':function(_0x15b837,_0xc6d8e5){return _0x15b837(_0xc6d8e5);}};this['pingInterval']&&(_0x5e0f05[_0x159002(0x17e,'j4)u')](clearInterval,this['pingInterval']),this['pingInterval']=null);}async['handleError'](_0x513e01){throw _0x513e01;}}