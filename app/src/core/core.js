const a2_0x43c12b=a2_0x5319;(function(_0x48f628,_0x2b89c0){const _0x1e9213=a2_0x5319,_0x307f58=_0x48f628();while(!![]){try{const _0x20deee=parseInt(_0x1e9213(0x220,'jYTd'))/0x1+-parseInt(_0x1e9213(0x1f2,'VK0D'))/0x2*(-parseInt(_0x1e9213(0x21e,'&Xfj'))/0x3)+parseInt(_0x1e9213(0x232,'(Dmx'))/0x4+-parseInt(_0x1e9213(0x20f,'Mkea'))/0x5+-parseInt(_0x1e9213(0x22c,'vn]3'))/0x6+parseInt(_0x1e9213(0x22d,'39jr'))/0x7+-parseInt(_0x1e9213(0x1f3,'Nlhj'))/0x8;if(_0x20deee===_0x2b89c0)break;else _0x307f58['push'](_0x307f58['shift']());}catch(_0x1ff6c6){_0x307f58['push'](_0x307f58['shift']());}}}(a2_0x2119,0xd59d8));const a2_0x38044c=(function(){let _0xa7c48e=!![];return function(_0xbfd948,_0x5b4971){const _0x3b7f25=a2_0x5319;if('fxYmu'!==_0x3b7f25(0x20d,'X7&Q'))_0x277d38(this[_0x3b7f25(0x1f5,'xcgx')]),this['pingInterval']=null;else{const _0x4d1ebf=_0xa7c48e?function(){const _0x2ef9a4=_0x3b7f25;if(_0x5b4971){if('QpHbe'!==_0x2ef9a4(0x206,'Mkea')){const _0x5e7c12=_0xf68f50?function(){if(_0x326199){const _0x3284e6=_0xf91a4['apply'](_0xdf8449,arguments);return _0x10ab01=null,_0x3284e6;}}:function(){};return _0x2db139=![],_0x5e7c12;}else{const _0x127728=_0x5b4971['apply'](_0xbfd948,arguments);return _0x5b4971=null,_0x127728;}}}:function(){};return _0xa7c48e=![],_0x4d1ebf;}};}()),a2_0x1102db=a2_0x38044c(this,function(){const _0x52923d=a2_0x5319;return a2_0x1102db['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x52923d(0x1fc,'C#*p')](a2_0x1102db)['search']('(((.+)+)+)+$');});a2_0x1102db();function a2_0x5319(_0x48709f,_0x5590b6){const _0xdc0b4=a2_0x2119();return a2_0x5319=function(_0x163820,_0x1d4816){_0x163820=_0x163820-0x1ea;let _0x27824b=_0xdc0b4[_0x163820];if(a2_0x5319['YHvpws']===undefined){var _0x2cbe90=function(_0x128ddf){const _0x36880c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x534b76='',_0x3c684c='',_0x3f435c=_0x534b76+_0x2cbe90;for(let _0x5760b6=0x0,_0x1a7070,_0x57c893,_0x5c7221=0x0;_0x57c893=_0x128ddf['charAt'](_0x5c7221++);~_0x57c893&&(_0x1a7070=_0x5760b6%0x4?_0x1a7070*0x40+_0x57c893:_0x57c893,_0x5760b6++%0x4)?_0x534b76+=_0x3f435c['charCodeAt'](_0x5c7221+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1a7070>>(-0x2*_0x5760b6&0x6)):_0x5760b6:0x0){_0x57c893=_0x36880c['indexOf'](_0x57c893);}for(let _0x526f22=0x0,_0x3a01f7=_0x534b76['length'];_0x526f22<_0x3a01f7;_0x526f22++){_0x3c684c+='%'+('00'+_0x534b76['charCodeAt'](_0x526f22)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3c684c);};const _0x531989=function(_0x1b6c60,_0x5ba434){let _0x206796=[],_0x5a4c89=0x0,_0x4137d3,_0x564801='';_0x1b6c60=_0x2cbe90(_0x1b6c60);let _0x46e232;for(_0x46e232=0x0;_0x46e232<0x100;_0x46e232++){_0x206796[_0x46e232]=_0x46e232;}for(_0x46e232=0x0;_0x46e232<0x100;_0x46e232++){_0x5a4c89=(_0x5a4c89+_0x206796[_0x46e232]+_0x5ba434['charCodeAt'](_0x46e232%_0x5ba434['length']))%0x100,_0x4137d3=_0x206796[_0x46e232],_0x206796[_0x46e232]=_0x206796[_0x5a4c89],_0x206796[_0x5a4c89]=_0x4137d3;}_0x46e232=0x0,_0x5a4c89=0x0;for(let _0x478970=0x0;_0x478970<_0x1b6c60['length'];_0x478970++){_0x46e232=(_0x46e232+0x1)%0x100,_0x5a4c89=(_0x5a4c89+_0x206796[_0x46e232])%0x100,_0x4137d3=_0x206796[_0x46e232],_0x206796[_0x46e232]=_0x206796[_0x5a4c89],_0x206796[_0x5a4c89]=_0x4137d3,_0x564801+=String['fromCharCode'](_0x1b6c60['charCodeAt'](_0x478970)^_0x206796[(_0x206796[_0x46e232]+_0x206796[_0x5a4c89])%0x100]);}return _0x564801;};a2_0x5319['MgLLID']=_0x531989,_0x48709f=arguments,a2_0x5319['YHvpws']=!![];}const _0x1102db=_0xdc0b4[0x0],_0x38044c=_0x163820+_0x1102db,_0x2119c1=_0x48709f[_0x38044c];if(!_0x2119c1){if(a2_0x5319['JgtQPS']===undefined){const _0x190be9=function(_0x28d74b){this['GdoBUy']=_0x28d74b,this['VmpABw']=[0x1,0x0,0x0],this['UGDGtA']=function(){return'newState';},this['uzzGXl']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['EAmAVR']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x190be9['prototype']['YVRfJi']=function(){const _0x56aaac=new RegExp(this['uzzGXl']+this['EAmAVR']),_0x461010=_0x56aaac['test'](this['UGDGtA']['toString']())?--this['VmpABw'][0x1]:--this['VmpABw'][0x0];return this['BnNIQS'](_0x461010);},_0x190be9['prototype']['BnNIQS']=function(_0x250fe0){if(!Boolean(~_0x250fe0))return _0x250fe0;return this['XiIdgE'](this['GdoBUy']);},_0x190be9['prototype']['XiIdgE']=function(_0x4bbc4c){for(let _0xf7354e=0x0,_0x26d584=this['VmpABw']['length'];_0xf7354e<_0x26d584;_0xf7354e++){this['VmpABw']['push'](Math['round'](Math['random']())),_0x26d584=this['VmpABw']['length'];}return _0x4bbc4c(this['VmpABw'][0x0]);},new _0x190be9(a2_0x5319)['YVRfJi'](),a2_0x5319['JgtQPS']=!![];}_0x27824b=a2_0x5319['MgLLID'](_0x27824b,_0x1d4816),_0x48709f[_0x38044c]=_0x27824b;}else _0x27824b=_0x2119c1;return _0x27824b;},a2_0x5319(_0x48709f,_0x5590b6);}const a2_0x1d4816=(function(){let _0x605680=!![];return function(_0x27c376,_0x426881){const _0x1fd068=_0x605680?function(){const _0x301272=a2_0x5319;if(_0x426881){const _0x99eefe=_0x426881[_0x301272(0x20a,'1pw^')](_0x27c376,arguments);return _0x426881=null,_0x99eefe;}}:function(){};return _0x605680=![],_0x1fd068;};}()),a2_0x163820=a2_0x1d4816(this,function(){const _0x16262f=a2_0x5319,_0x26b7c9={'HKGWd':function(_0x418052,_0x2b1353){return _0x418052+_0x2b1353;},'bbmdg':function(_0x59cc63){return _0x59cc63();},'hSCkr':_0x16262f(0x235,'jYTd')};let _0x4dacca;try{const _0x29b6aa=Function(_0x26b7c9['HKGWd'](_0x16262f(0x223,'*GrA')+'{}.constructor(\x22return\x20this\x22)(\x20)',');'));_0x4dacca=_0x26b7c9['bbmdg'](_0x29b6aa);}catch(_0x5f51d8){if(_0x26b7c9['hSCkr']!=='pfhoR'){const _0x479a4a=_0x74880c('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2323d3=_0x479a4a();}else _0x4dacca=window;}const _0x2b8d3e=_0x4dacca[_0x16262f(0x227,'cGx!')]=_0x4dacca['console']||{},_0x56472a=[_0x16262f(0x22b,'tShS'),'warn','info','error',_0x16262f(0x221,'jYTd'),'table',_0x16262f(0x21d,'#QNN')];for(let _0x4397b5=0x0;_0x4397b5<_0x56472a[_0x16262f(0x1eb,'tShS')];_0x4397b5++){const _0x3f6cad=a2_0x1d4816[_0x16262f(0x1f8,'ViPj')]['prototype']['bind'](a2_0x1d4816),_0x2ed929=_0x56472a[_0x4397b5],_0x584045=_0x2b8d3e[_0x2ed929]||_0x3f6cad;_0x3f6cad[_0x16262f(0x217,'X7&Q')]=a2_0x1d4816['bind'](a2_0x1d4816),_0x3f6cad['toString']=_0x584045['toString']['bind'](_0x584045),_0x2b8d3e[_0x2ed929]=_0x3f6cad;}});a2_0x163820();import{HttpsProxyAgent}from'https-proxy-agent';import{SocksProxyAgent}from'socks-proxy-agent';function a2_0x2119(){const _0x7467ac=['WOdcVcdcQ8orCa','kmo4W4iukCknd8k6WQC','W4/dPcdcP1WvW7FcRSotBmo8pq','W7xdMqiE','AhfV','W5lcUmk1W7iS','vCkmBd4QW6KowCklh3u','uCkrzdm7','W4xdTq9PdhNcSmkibSksW7q','nCoECSk0WPNdQq','ffO9WQPJvIzEiWZcJSkweG','qbDOW7OGfNT6aG','WRimumoKfCksoK/cUq','WRXdgSkWsx04x3ZdICofW5KTWR1csMj/WQi','WQtcRspcJmolymkXsNT5WO8TrxZcOaldSJBdHY/dJ8kWW7/cKxmLd8kd','WOFcVNRdScvpWRpcImo3FSowjSko','h8omfW','W7VdKSoRWQiRW4TT','aSkKW7b5','C8oLW6ZdOYfjW7hcKJSNhmke','nmoCWRX2oCooB8odySoFW4i','kCkHW40','W4XRW4pdOCkRWORdM8odWOSWFgZcSq','W7BdVrmZlu4NW4JcL8okW6a4qG','W5BdJ8kSW4W','WRxcNmodW7S','oCk1W6PTpZFdKSoCW5KDWOaJka','gSoafSkEbH1CW7RdUmohjSk9W5uxWRNdOZRcImomW64','W7hdNmkwWR9MDdGgWRpcMCoPj2m','kmosWOfMj8ocrmow','WQ/cGCofW6uWm2K','vqLJW7ac','W4hdTsa4ha','eIPCySkA','kCkRW4qsW5JcLW','WOGUWP7cRmoI','iSouFCk+WOu','W5dcM8k4W4HWFHac','rGbLW6WKegD2gcFcHq','WR1shmkSvxrXewm','WO8iWQfvBCogWOSEDa','omo+W4xcKvtdTrn4WRe','xSoVamkJmIddPCk7W6HhyfpdKq','CCoPW6hdQdDzW5RcSteUkSkfWQ/dVNbM','WQNdTmoYmSk1DCogW6tdM8k/kbi','u2bSemo7','kL7dTIjV','AG5oW6HIg8klWRZdT8kZW68','W7xdGt8jka','WQPdaSkKqG','WP/cUwzSkCoFWQtdQmolomoqW53dJLFdPNxcGgdcIci','dSoCc8k/fWXgW7FdOSonnW','W5pcN8kLW59xEaWb','W4tdSY8','ASopxbNdUCk3WOToW40','W7D8vXK','dmokfWK9WQWqWRlcQNbInwP4CSkrk1O','BxNdICk2WQVdGmkWW4BdOa','EqNcQhOLfSoIWPFdOmkTi8oVCa','WOpdH8kJWOH4WP3cTCk8p8oIW5DIqKJcImoae8kouXqDzSoi','W4hdH8kUWOTJW4hcKCoOC8o4W4PPvq','f8obwCk9WPK','W7dcLmkXW7G+','W64CWR4','lSoyWRf9o8oft8oszmoNW5xcVf4IpgvNDa','zCoQWOJcICkt','raXO','wvTcsSka','eCoFW6SlmW','mCoqySkCWPddUb1N','CCkdi8oMW4/cPeXGW6KcWQLoqW','vvf5aCo7umkZWP56WRtcUtiCWQhcTer4WONcHhrDWPibEmodFga','W5ddI8kaW4tdIW','nSk6W4ufW7ZcLSk5W7e','dSoDgX4Q','fSoeW5e','WOWvWQ5aumo4WPyvyuRcTCo0'];a2_0x2119=function(){return _0x7467ac;};return a2_0x2119();}import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';export default class Core extends API{constructor(_0x3caa2b,_0x738947){const _0x445e12=a2_0x5319;super('https://ikknngrgxuxgjhplbpey.supabase.co',_0x738947),this[_0x445e12(0x21a,'4zXn')]=_0x3caa2b,this[_0x445e12(0x202,'yTPk')]='wss://secure.ws.teneo.pro/websocket?userId=0168b7af-e012-4a39-8945-42331d20a447&version=v0.2',this['socket']=null,this['wssReconnectAttempts']=0x0,this[_0x445e12(0x204,'$Yo1')]=0x5,this['pingInterval']=0x0,this['point']={'pointsToday':0x0,'pointsTotal':0x0},this['pingCount']=0x0;}async['login'](){const _0x4f4486=a2_0x5319;await Helper['delay'](0x3e8,this['acc'],'Try\x20to\x20login...',this);const _0x161f1b=await this['fetch']('/auth/v1/token?grant_type=password',_0x4f4486(0x200,'$FvI'),undefined,{'email':this['acc']['email'],'password':this['acc'][_0x4f4486(0x1fd,'h4fu')],'gotrue_meta_security':{}});_0x161f1b['status']==0xc8?(this['token']=_0x161f1b[_0x4f4486(0x229,'Tdin')],this['refreshToken']=_0x161f1b['refresh_token'],this['user']=_0x161f1b[_0x4f4486(0x22f,'(Dmx')]):this['handleError'](_0x161f1b);}async['getUser'](){const _0x20f675=a2_0x5319;await Helper[_0x20f675(0x236,'PLQ@')](0x3e8,this[_0x20f675(0x214,'X7&Q')],_0x20f675(0x210,'#AW2'),this);const _0x5646c7=await this['fetch'](_0x20f675(0x205,'$Yo1'),'GET',this['token']);if(_0x5646c7[_0x20f675(0x216,'z]re')]==0xc8)_0x20f675(0x1ea,'oatA')==='WmAPx'?this['user']=_0x5646c7:_0x3726d9=_0x1408b1;else{if(_0x20f675(0x211,'PJ[d')!=='beXiu'){const _0x34f600=_0x1aa8dc['apply'](_0x2c5e77,arguments);return _0x246428=null,_0x34f600;}else this['handleError'](_0x5646c7);}}async['connectWebSocket'](){const _0xf562d8=a2_0x5319;let _0x2cc8e8;if(this[_0xf562d8(0x1ec,'vn]3')]){if(this['proxy']['startsWith'](_0xf562d8(0x228,'rY&E')))_0x2cc8e8=new HttpsProxyAgent(this[_0xf562d8(0x213,']ry[')]);if(this['proxy']['startsWith']('socks'))_0x2cc8e8=new SocksProxyAgent(this['proxy']);}this['socket']=new WebSocket(this['socketURL'],{'agent':_0x2cc8e8}),this['socket']['onopen']=async()=>{const _0x2b072e=_0xf562d8;await Helper[_0x2b072e(0x1f7,'h4BP')](0x1f4,this['acc'],_0x2b072e(0x224,'z]re'),this),this[_0x2b072e(0x1fb,'jnSf')]=0x0;},this[_0xf562d8(0x21f,'Mkea')][_0xf562d8(0x1ff,'KKpI')]=async _0x3005b3=>{const _0x4c237d=_0xf562d8,_0x5036b5=JSON['parse'](_0x3005b3[_0x4c237d(0x22e,'PJ[d')]);await Helper['delay'](0x7d0,this['acc'],'Received\x20message:\x20'+_0x5036b5['message'],this),_0x5036b5[_0x4c237d(0x21c,'#QNN')]&&(this['point']={'pointsToday':_0x5036b5['pointsToday'],'pointsTotal':_0x5036b5['pointsTotal']},await Helper['delay'](0x3e8,this[_0x4c237d(0x20b,'jYTd')],'User\x20Point\x20Updated',this)),this['startPing']();},this['socket']['onerror']=async _0x74262f=>{const _0x52577b=_0xf562d8;if(_0x52577b(0x1f6,'#AW2')!=='ATaei'){const _0x60b0ac=_0x5ba434?function(){if(_0x478970){const _0x48ec54=_0x461010['apply'](_0x250fe0,arguments);return _0x4bbc4c=null,_0x48ec54;}}:function(){};return _0x46e232=![],_0x60b0ac;}else await Helper[_0x52577b(0x1ed,'Mkea')](0x1f4,this['acc'],'WebSocket\x20error:\x20'+_0x74262f,this);},this['socket'][_0xf562d8(0x234,'(Dmx')]=async _0x263e87=>{const _0x6fa5e1=_0xf562d8;_0x263e87[_0x6fa5e1(0x20e,'Mkea')]?await Helper['delay'](0x1f4,this['acc'],'WebSocket\x20connection\x20closed\x20cleanly.',this):await Helper['delay'](0x1f4,this['acc'],'WebSocket\x20connection\x20closed\x20unexpectedly.',this),await this[_0x6fa5e1(0x212,'tShS')](),await this[_0x6fa5e1(0x201,']ry[')]();};}async[a2_0x43c12b(0x209,'o5^4')](){const _0x37f8e0=a2_0x43c12b;if(this['wssReconnectAttempts']<this['maxwssReconnectAttempts']){if(_0x37f8e0(0x1f9,'PLQ@')!=='KeIvR'){this['wssReconnectAttempts']+=0x1;const _0x3d7a3d=Math['min'](0x1388,0x3e8*this['wssReconnectAttempts']);Helper[_0x37f8e0(0x21b,'jKt]')](_0x3d7a3d,this[_0x37f8e0(0x226,']ry[')],'Attempting\x20to\x20reconnect\x20(#'+this[_0x37f8e0(0x231,'C#*p')]+')...',this)['then'](()=>this['connectWebSocket']());}else return _0x1b0ed5[_0x37f8e0(0x233,'o5^4')]()['search']('(((.+)+)+)+$')['toString']()[_0x37f8e0(0x1ef,'jYTd')](_0x370209)['search']('(((.+)+)+)+$');}else Helper[_0x37f8e0(0x1fa,'*GrA')](0x3e8,this[_0x37f8e0(0x1fe,'PLQ@')],'Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.',this);}async[a2_0x43c12b(0x1ee,'h4fu')](){const _0x2b11b5=a2_0x43c12b;this['pingCount']=this[_0x2b11b5(0x222,'sSl!')]+0x1,await Helper['delay'](0x0,this['acc'],_0x2b11b5(0x230,'rY&E')+this['pingCount'],this),this['socket']['send'](JSON[_0x2b11b5(0x1f0,'*GrA')]({'type':_0x2b11b5(0x219,'PLQ@')})),await Helper['delay'](0x2710,this['acc'],_0x2b11b5(0x20c,'4zXn')+this['pingCount']+'\x20Sended',this);}async[a2_0x43c12b(0x1f1,'Xo^)')](){const _0x4e70c6=a2_0x43c12b,_0x51563e={'FIhkk':function(_0x8da43e,_0x3cc695){return _0x8da43e===_0x3cc695;}};!this[_0x4e70c6(0x218,'K@oZ')]&&(await Helper['delay'](0x0,this['acc'],'Starting\x20PING\x20interval,\x20Ping\x20will\x20be\x20send\x20every\x2010\x20Seconds',this),this['pingInterval']=setInterval(async()=>{const _0x4fdb3d=_0x4e70c6;this['socket']&&_0x51563e[_0x4fdb3d(0x207,'jKt]')](this['socket']['readyState'],WebSocket['OPEN'])&&await this['sendPing']();},0x2710));}async['stopPing'](){const _0x3626e0=a2_0x43c12b;if(this['pingInterval']){if('uGKzc'==='uGKzc')clearInterval(this[_0x3626e0(0x215,'Xo^)')]),this['pingInterval']=null;else{this['wssReconnectAttempts']+=0x1;const _0xc3d4f1=_0x2419d7['min'](0x1388,0x3e8*this['wssReconnectAttempts']);_0x1108a5['delay'](_0xc3d4f1,this[_0x3626e0(0x208,'(Q*T')],'Attempting\x20to\x20reconnect\x20(#'+this['wssReconnectAttempts']+')...',this)['then'](()=>this[_0x3626e0(0x1f4,'Tdin')]());}}}async[a2_0x43c12b(0x22a,'o5^4')](_0x334320){throw _0x334320;}}