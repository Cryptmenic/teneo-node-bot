function a2_0x3507(_0x4bc6c5,_0x52308f){const _0x1ca5fb=a2_0x237c();return a2_0x3507=function(_0x5bb0be,_0x384edc){_0x5bb0be=_0x5bb0be-0x1bd;let _0x4b6351=_0x1ca5fb[_0x5bb0be];if(a2_0x3507['wCgdPc']===undefined){var _0x5342ae=function(_0x33cdea){const _0x3fbc84='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x461cf9='',_0x256a8f='',_0x38d4a5=_0x461cf9+_0x5342ae;for(let _0x35edaf=0x0,_0x35c243,_0x59f540,_0x4b11b4=0x0;_0x59f540=_0x33cdea['charAt'](_0x4b11b4++);~_0x59f540&&(_0x35c243=_0x35edaf%0x4?_0x35c243*0x40+_0x59f540:_0x59f540,_0x35edaf++%0x4)?_0x461cf9+=_0x38d4a5['charCodeAt'](_0x4b11b4+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x35c243>>(-0x2*_0x35edaf&0x6)):_0x35edaf:0x0){_0x59f540=_0x3fbc84['indexOf'](_0x59f540);}for(let _0xab29a9=0x0,_0x24e0af=_0x461cf9['length'];_0xab29a9<_0x24e0af;_0xab29a9++){_0x256a8f+='%'+('00'+_0x461cf9['charCodeAt'](_0xab29a9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x256a8f);};const _0x350700=function(_0x22e70e,_0x3951ef){let _0x26e8be=[],_0x7df23c=0x0,_0x320eab,_0x2fc571='';_0x22e70e=_0x5342ae(_0x22e70e);let _0xd528cb;for(_0xd528cb=0x0;_0xd528cb<0x100;_0xd528cb++){_0x26e8be[_0xd528cb]=_0xd528cb;}for(_0xd528cb=0x0;_0xd528cb<0x100;_0xd528cb++){_0x7df23c=(_0x7df23c+_0x26e8be[_0xd528cb]+_0x3951ef['charCodeAt'](_0xd528cb%_0x3951ef['length']))%0x100,_0x320eab=_0x26e8be[_0xd528cb],_0x26e8be[_0xd528cb]=_0x26e8be[_0x7df23c],_0x26e8be[_0x7df23c]=_0x320eab;}_0xd528cb=0x0,_0x7df23c=0x0;for(let _0x4994d0=0x0;_0x4994d0<_0x22e70e['length'];_0x4994d0++){_0xd528cb=(_0xd528cb+0x1)%0x100,_0x7df23c=(_0x7df23c+_0x26e8be[_0xd528cb])%0x100,_0x320eab=_0x26e8be[_0xd528cb],_0x26e8be[_0xd528cb]=_0x26e8be[_0x7df23c],_0x26e8be[_0x7df23c]=_0x320eab,_0x2fc571+=String['fromCharCode'](_0x22e70e['charCodeAt'](_0x4994d0)^_0x26e8be[(_0x26e8be[_0xd528cb]+_0x26e8be[_0x7df23c])%0x100]);}return _0x2fc571;};a2_0x3507['yFCmdO']=_0x350700,_0x4bc6c5=arguments,a2_0x3507['wCgdPc']=!![];}const _0xca110e=_0x1ca5fb[0x0],_0x541544=_0x5bb0be+_0xca110e,_0x237cb3=_0x4bc6c5[_0x541544];if(!_0x237cb3){if(a2_0x3507['mOUXCI']===undefined){const _0x563290=function(_0x92ee9d){this['dBFDgG']=_0x92ee9d,this['FMTqWI']=[0x1,0x0,0x0],this['dXzhKy']=function(){return'newState';},this['iimXsN']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ofjzZc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x563290['prototype']['VwlBSF']=function(){const _0x1f4ef9=new RegExp(this['iimXsN']+this['ofjzZc']),_0x21beca=_0x1f4ef9['test'](this['dXzhKy']['toString']())?--this['FMTqWI'][0x1]:--this['FMTqWI'][0x0];return this['fWHRnj'](_0x21beca);},_0x563290['prototype']['fWHRnj']=function(_0x3a5ec4){if(!Boolean(~_0x3a5ec4))return _0x3a5ec4;return this['NlPpRF'](this['dBFDgG']);},_0x563290['prototype']['NlPpRF']=function(_0x1ac923){for(let _0x42d806=0x0,_0xc77e34=this['FMTqWI']['length'];_0x42d806<_0xc77e34;_0x42d806++){this['FMTqWI']['push'](Math['round'](Math['random']())),_0xc77e34=this['FMTqWI']['length'];}return _0x1ac923(this['FMTqWI'][0x0]);},new _0x563290(a2_0x3507)['VwlBSF'](),a2_0x3507['mOUXCI']=!![];}_0x4b6351=a2_0x3507['yFCmdO'](_0x4b6351,_0x384edc),_0x4bc6c5[_0x541544]=_0x4b6351;}else _0x4b6351=_0x237cb3;return _0x4b6351;},a2_0x3507(_0x4bc6c5,_0x52308f);}const a2_0xfcae1a=a2_0x3507;(function(_0x11f51e,_0x4a0d77){const _0x2a33cf=a2_0x3507,_0x1171e5=_0x11f51e();while(!![]){try{const _0xef0326=-parseInt(_0x2a33cf(0x204,'29S9'))/0x1+parseInt(_0x2a33cf(0x1c1,'$58e'))/0x2+parseInt(_0x2a33cf(0x206,'2A88'))/0x3+parseInt(_0x2a33cf(0x20d,'B*(!'))/0x4*(parseInt(_0x2a33cf(0x1e2,'u!Ox'))/0x5)+-parseInt(_0x2a33cf(0x203,'itxB'))/0x6+parseInt(_0x2a33cf(0x1d3,'$R%m'))/0x7*(-parseInt(_0x2a33cf(0x1ce,'Bnjw'))/0x8)+-parseInt(_0x2a33cf(0x20a,'C7ds'))/0x9*(-parseInt(_0x2a33cf(0x1f0,'Jk@$'))/0xa);if(_0xef0326===_0x4a0d77)break;else _0x1171e5['push'](_0x1171e5['shift']());}catch(_0x473cb2){_0x1171e5['push'](_0x1171e5['shift']());}}}(a2_0x237c,0xf3302));const a2_0x541544=(function(){let _0x19ae24=!![];return function(_0x34ed95,_0x2684c3){const _0x39b2db=_0x19ae24?function(){const _0x378e94=a2_0x3507;if(_0x378e94(0x1fa,'23fu')!=='TyLgn'){if(_0x2684c3){const _0x2ee6fa=_0x2684c3['apply'](_0x34ed95,arguments);return _0x2684c3=null,_0x2ee6fa;}}else{if(_0x2da0b){const _0x4c9912=_0x57384b[_0x378e94(0x209,'woQE')](_0x2f774e,arguments);return _0x39d3f5=null,_0x4c9912;}}}:function(){};return _0x19ae24=![],_0x39b2db;};}()),a2_0xca110e=a2_0x541544(this,function(){const _0x2caf6b=a2_0x3507,_0x50905b={'FqTPi':'(((.+)+)+)+$'};return a2_0xca110e[_0x2caf6b(0x1cb,'dd11')]()['search'](_0x2caf6b(0x1fd,'vGZZ'))['toString']()['constructor'](a2_0xca110e)[_0x2caf6b(0x1f7,'L10f')](_0x50905b['FqTPi']);});a2_0xca110e();const a2_0x384edc=(function(){let _0x499f41=!![];return function(_0x5229a7,_0x53a54d){const _0x5df7ad=_0x499f41?function(){const _0x246e27=a2_0x3507;if(_0x246e27(0x1c6,'ec@l')==='AAGQw'){if(_0x53a54d){if('RsDLi'==='xXiCH'){const _0x1a6734=_0xb85819?function(){if(_0x59344e){const _0x29b097=_0x54a2ba['apply'](_0x23616d,arguments);return _0x5634b7=null,_0x29b097;}}:function(){};return _0x3147c1=![],_0x1a6734;}else{const _0x3e5892=_0x53a54d['apply'](_0x5229a7,arguments);return _0x53a54d=null,_0x3e5892;}}}else this['handleError'](_0x2eb950);}:function(){};return _0x499f41=![],_0x5df7ad;};}()),a2_0x5bb0be=a2_0x384edc(this,function(){const _0x5a255a=a2_0x3507,_0x446efd=function(){const _0x25416a=a2_0x3507;let _0x452cd9;try{if(_0x25416a(0x1e6,'AG77')===_0x25416a(0x200,'e]Sr')){if(this['wssReconnectAttempts']<this[_0x25416a(0x1d6,'F5mK')]){this[_0x25416a(0x1cf,'$58e')]+=0x1;const _0x4d10ac=_0x3c5cc0['min'](0x1388,0x3e8*this[_0x25416a(0x1de,'woQE')]);_0x10e396['delay'](_0x4d10ac,this[_0x25416a(0x1f4,'7nBN')],'Attempting\x20to\x20reconnect\x20(#'+this['wssReconnectAttempts']+')...',this)['then'](()=>this['connectWebSocket']());}else _0x159b32[_0x25416a(0x20b,'%bg%')](0x3e8,this['acc'],'Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.',this);}else _0x452cd9=Function('return\x20(function()\x20'+_0x25416a(0x1bd,'ibig')+');')();}catch(_0x42f150){_0x452cd9=window;}return _0x452cd9;},_0x3bfb40=_0x446efd(),_0x10b3b2=_0x3bfb40[_0x5a255a(0x1e5,'u!Ox')]=_0x3bfb40['console']||{},_0x945d24=['log',_0x5a255a(0x1e3,'F5mK'),_0x5a255a(0x1f6,'itxB'),'error','exception','table','trace'];for(let _0xee717b=0x0;_0xee717b<_0x945d24['length'];_0xee717b++){const _0x11acf2=a2_0x384edc[_0x5a255a(0x208,'y5mE')]['prototype']['bind'](a2_0x384edc),_0x9d47fb=_0x945d24[_0xee717b],_0x51c3c0=_0x10b3b2[_0x9d47fb]||_0x11acf2;_0x11acf2['__proto__']=a2_0x384edc[_0x5a255a(0x1f2,')jXV')](a2_0x384edc),_0x11acf2['toString']=_0x51c3c0['toString']['bind'](_0x51c3c0),_0x10b3b2[_0x9d47fb]=_0x11acf2;}});a2_0x5bb0be();import{HttpsProxyAgent}from'https-proxy-agent';import{SocksProxyAgent}from'socks-proxy-agent';import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';function a2_0x237c(){const _0x5a4de2=['EmoLW4qzW4C','bmozF8kLW7u9zNtdPSoHeG0','WQldHSoPwqy','W4CpBuJdUW','WQJcPLOScsHWDCopWRZdISo+uW','W4ldPHyKW7u','AConkmotWRdcJYRcOSkeW7uRsmknbSo0cCo1W7lcMSohpmkaqCkKW5Ssh3BcPSkwp0S','WQtdPeqDwSkDmZBdIgFdKW','WRBdKCoQqay','WR/dTCkkW6RdHCkV','W6iLENNdUv/dNCk1WRlcSg8NlW','bmkMb8oKWQu','rutcN8oFWQtdLJClWPtdVwtcSCoDwmolb05RW7WnnrVcOqa2WPfu','WR7cI8kbWQTfv0hcO1K0a0BdPmksCCovkZjhcdbvp8kWW5TmbNhcPmofB8oOu8oPwCkZWQyPWQVdK8oDnM/dK1NdNSoBW41Tt8k+E1b/dKhdRYRcGCkRud4WWQVcNwuUW4PeWOpdQ8kCWPBdGSo/uCoWW6WneSonsdFdJ8oOFmk9WQvYW7ddH8k6','WRRdKGhdRCkqWR8qn8k7','rCkyW5mPAa','ANxdGSkHW5G','WQDaw8oaW4aBW7DVrq','W6FcJCoBo3VdHq','WQeOW7GbW74MvajlWQ8H','Cmkdy8oEt8o6dmk2','W6FdS18','WQb7lIRcRXW','WOzemaJdU8kIWOmPetG','WQrNpHpcRWVcGSk2WQVcNu8dpcpcTmkLD8oWnmkE','W6VdTqXSxMSGsSoLWRtdG8oC','uSkoiCoXWRW','WRVdU8kAW4ldJmk+oSoY','W7VcJvBcUCoGWRqRe8kDmYa','WRfJW4zEa8kVvCkAWQpcPJv1','WQJdL3zc','WPNcHuWdi8o6v14WW4KRoGNdMSkJECo/W7RdHGtcTd3cSq','W6ldTvaTwa','W7yVDG','W7hdSqr6v30nBmo4WRddLa','W6NcJtKcWR8','paZcVq','vSkBfSkdWPnobWahpSkOWQuJsCotw8opsXpdSYXTqKy6WRvcW6TzW5bSuSkgpq','W7xcGCoB','BSoMW4CNW5SCW7ysWQLIbmoznSoEANfCW6egmG','W4/cIwtcNfXzW6RdHbBdUmoNfGNdMbqwW7ZcHmoOW5vvWPnZ','W6BcVr5fdmknkc7dLG','W4qsyvVdP8k4','W6yhx8o5W7WDW6zN','WOpcHuyA','sSkmsdnQwSksWRiAamk/WPLt','WRrDwSohW4adW6S','hCk/mmkCWO0','W4hcU8kGWOj6tJPYm8kk','WP4EWOlcIf8FW5nvW7aOuSo3CG','hCkFd8kwWOi','WQvxuSogW4OCW6zavmk0B8kbeW','r2nKWPVdVmo/W4tcM8khnCkbcNm','W7OLE8koe8kWWOiMWRxcVfbJ','E2HNWPRdPSoIW4ldNmkY','WRpdKmoGsG','WOFcKfugjmozBfu0','W4hcT8kIW49fCXPHnW','WR7cI8kbW4mpg13cQfqKeLFcI8krDSkEmIDDhG','W49cW53dNW','WRRcL8krW7OpdgFcLhy','g0fd','lGm4nSk8WOVcKmoX','W6CCxf4','WQ7dGxjcW5/cIW','W4BcIN7cPx4','q2nOWQZdUSoYW4JdNSkJxmkSiJ0no13cI8okymkHWQVcM33dV8kUrrmmu8o1W48sWPxdK0NdJmoAC8k+W7pdPq','WOhcLGfBWRK','WR0BW40','D8k8W7OCtX8+sW','kbHYfe8Ir0TMxSkCia','E2HPWPpdUSoIW4y','wxFdTa','ENfTWOBdTa','WO3cVqvGWP7cJCk3wSoY','WQWrW4dcPfyghSkgevhcTxe','WR1hcWjaWQlcG8oJbeJdN8kTbW','W5qTfK3cMGXqdgmkpmob','W7hcTXfpea','WPpdKs3dNH4DWOJdJtddLCoMfIK','yu7cHCofWQJdMYr8WQtdRflcRmkEESoafq','WRyEWQVdKIK6W6hdNCkZWPNcNG'];a2_0x237c=function(){return _0x5a4de2;};return a2_0x237c();}export default class Core extends API{constructor(_0x1107ba,_0x3d930){const _0x5374d7=a2_0x3507,_0x316eb5={'dbbNQ':'https://ikknngrgxuxgjhplbpey.supabase.co'};super(_0x316eb5[_0x5374d7(0x1f8,'2A88')],_0x3d930),this['acc']=_0x1107ba,this[_0x5374d7(0x1e0,'tOPj')]=_0x5374d7(0x1c4,'IOT^'),this['socket']=null,this['wssReconnectAttempts']=0x0,this[_0x5374d7(0x1df,'2A88')]=0x5,this[_0x5374d7(0x1d4,'VH#v')]=0x0,this['point']={'pointsToday':0x0,'pointsTotal':0x0},this['pingCount']=0x0;}async['login'](){const _0x5ae137=a2_0x3507;await Helper[_0x5ae137(0x1d7,'7m8Q')](0x3e8,this['acc'],'Try\x20to\x20login...',this);const _0x34302f=await this['fetch'](_0x5ae137(0x1dc,'AG77'),'POST',undefined,{'email':this['acc']['email'],'password':this[_0x5ae137(0x1fb,'X0(b')]['password'],'gotrue_meta_security':{}});_0x34302f['status']==0xc8?(this[_0x5ae137(0x1c2,'QOvg')]=_0x34302f['access_token'],this['refreshToken']=_0x34302f[_0x5ae137(0x1ea,'u!Ox')],this['user']=_0x34302f[_0x5ae137(0x1ee,'%bg%')]):this['handleError'](_0x34302f);}async['getUser'](){const _0x34acdf=a2_0x3507,_0x40da87={'zLwDj':function(_0x1bd67b,_0x4be435){return _0x1bd67b==_0x4be435;}};await Helper['delay'](0x3e8,this[_0x34acdf(0x1cc,'7m8Q')],_0x34acdf(0x1c3,'f538'),this);const _0x4c4c63=await this['fetch']('/auth/v1/user',_0x34acdf(0x1db,'apEC'),this['token']);_0x40da87['zLwDj'](_0x4c4c63['status'],0xc8)?this[_0x34acdf(0x1d5,'L10f')]=_0x4c4c63:this['handleError'](_0x4c4c63);}async['connectWebSocket'](){const _0x271c42=a2_0x3507,_0x3af6d0={'AumVN':'pTHTj','ZMpBK':'WebSocket\x20connection\x20closed\x20cleanly.'};let _0x4ff452;if(this[_0x271c42(0x1bf,'%bg%')]){if(this['proxy']['startsWith']('http'))_0x4ff452=new HttpsProxyAgent(this[_0x271c42(0x20c,'Bnjw')]);if(this[_0x271c42(0x1da,'$hGd')]['startsWith']('socks'))_0x4ff452=new SocksProxyAgent(this['proxy']);}this[_0x271c42(0x1c0,'dC#$')]=new WebSocket(this[_0x271c42(0x1f3,'IOT^')],{'agent':_0x4ff452}),this['socket']['onopen']=async()=>{const _0x5e41c2=_0x271c42;await Helper[_0x5e41c2(0x1e9,'AG77')](0x1f4,this['acc'],'WebSocket\x20connection\x20opened.',this),this['wssReconnectAttempts']=0x0;},this['socket'][_0x271c42(0x1ed,'e]Sr')]=async _0x37d99d=>{const _0x5d67e6=_0x271c42,_0x4f4483=JSON['parse'](_0x37d99d['data']);await Helper['delay'](0x7d0,this['acc'],'Received\x20message:\x20'+_0x4f4483['message'],this),_0x4f4483['pointsToday']&&(this['point']={'pointsToday':_0x4f4483['pointsToday'],'pointsTotal':_0x4f4483['pointsTotal']},await Helper[_0x5d67e6(0x1d7,'7m8Q')](0x3e8,this['acc'],'User\x20Point\x20Updated',this)),this['startPing']();},this['socket']['onerror']=async _0x5f2315=>{const _0x3fd7ae=_0x271c42;'YcCyL'!=='FhcFE'?await Helper['delay'](0x1f4,this['acc'],'WebSocket\x20error:\x20'+_0x5f2315,this):this[_0x3fd7ae(0x1d9,'B*(!')](_0x2a47c1);},this['socket'][_0x271c42(0x1fe,'e]Sr')]=async _0x4c43d6=>{const _0x297726=_0x271c42;_0x4c43d6[_0x297726(0x1d2,'dC#$')]?'vLgII'===_0x3af6d0[_0x297726(0x20e,'^Yev')]?(this['token']=_0x5ee88b[_0x297726(0x1ec,'![[F')],this[_0x297726(0x1d0,'B*(!')]=_0x2f01ff['refresh_token'],this['user']=_0x51e357['user']):await Helper['delay'](0x1f4,this['acc'],_0x3af6d0['ZMpBK'],this):await Helper['delay'](0x1f4,this[_0x297726(0x1dd,'O%%c')],_0x297726(0x1f9,'e]Sr'),this),await this[_0x297726(0x1f5,'%c!$')](),await this['reconnectWebSocket']();};}async['reconnectWebSocket'](){const _0x1b5365=a2_0x3507,_0x1b1bd9={'TSYth':'tWzbu'};if(this['wssReconnectAttempts']<this['maxwssReconnectAttempts']){if('tWzbu'===_0x1b1bd9['TSYth']){this[_0x1b5365(0x1f1,'IOT^')]+=0x1;const _0x23440e=Math[_0x1b5365(0x1d8,'![[F')](0x1388,0x3e8*this['wssReconnectAttempts']);Helper[_0x1b5365(0x1d1,'C7ds')](_0x23440e,this[_0x1b5365(0x1ff,'nu6L')],'Attempting\x20to\x20reconnect\x20(#'+this['wssReconnectAttempts']+')...',this)['then'](()=>this[_0x1b5365(0x207,'f538')]());}else throw _0x2c2dad;}else Helper['delay'](0x3e8,this['acc'],'Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.',this);}async['sendPing'](){const _0x254344=a2_0x3507;this['pingCount']=this['pingCount']+0x1,await Helper['delay'](0x0,this['acc'],_0x254344(0x1eb,'e]Sr')+this['pingCount'],this),this[_0x254344(0x1e1,'Bnjw')]['send'](JSON['stringify']({'type':'PING'})),await Helper[_0x254344(0x205,'tOPj')](0x2710,this['acc'],'PING\x20'+this[_0x254344(0x1c5,'$R%m')]+'\x20Sended',this);}async[a2_0xfcae1a(0x1ef,'F5mK')](){const _0x591f9f={'buVSx':'LoyHZ','wVLUT':function(_0x12adb6,_0x37eaa2){return _0x12adb6===_0x37eaa2;}};!this['pingInterval']&&(await Helper['delay'](0x0,this['acc'],'Starting\x20PING\x20interval,\x20Ping\x20will\x20be\x20send\x20every\x2010\x20Seconds',this),this['pingInterval']=setInterval(async()=>{const _0x289a26=a2_0x3507;if('OAxKS'!==_0x591f9f['buVSx']){if(this[_0x289a26(0x1c9,'O%%c')]&&_0x591f9f['wVLUT'](this[_0x289a26(0x1cd,'$58e')]['readyState'],WebSocket['OPEN'])){if(_0x289a26(0x1c7,'Uty*')==='epwWU')await this[_0x289a26(0x1fc,'ec@l')]();else{const _0x1c26fb=_0x3b405b[_0x289a26(0x1ca,'CHu(')][_0x289a26(0x1c8,'u!Ox')]['bind'](_0x214d45),_0xc2d2c3=_0x3bdcfc[_0x1c74fe],_0x46d8c8=_0x2ff45d[_0xc2d2c3]||_0x1c26fb;_0x1c26fb[_0x289a26(0x201,'23fu')]=_0x3eb68a['bind'](_0x543644),_0x1c26fb['toString']=_0x46d8c8['toString']['bind'](_0x46d8c8),_0x3481b8[_0xc2d2c3]=_0x1c26fb;}}}else this['user']=_0x2182b6;},0x2710));}async['stopPing'](){const _0xc5a803=a2_0xfcae1a;this[_0xc5a803(0x202,'X0(b')]&&(clearInterval(this['pingInterval']),this['pingInterval']=null);}async['handleError'](_0x691d54){throw _0x691d54;}}