(function(_0x114a02,_0x38b856){const _0x29ce5d=a2_0x5d7f,_0x5448e7=_0x114a02();while(!![]){try{const _0x4d87af=parseInt(_0x29ce5d(0x1f8,'&YOL'))/0x1+parseInt(_0x29ce5d(0x20f,'[kxP'))/0x2*(-parseInt(_0x29ce5d(0x1f5,'@zse'))/0x3)+-parseInt(_0x29ce5d(0x209,'@zse'))/0x4+parseInt(_0x29ce5d(0x205,'@z*Y'))/0x5*(-parseInt(_0x29ce5d(0x1fb,'o!!W'))/0x6)+-parseInt(_0x29ce5d(0x203,'S(hX'))/0x7*(parseInt(_0x29ce5d(0x20d,'3LAX'))/0x8)+parseInt(_0x29ce5d(0x1fd,'&YOL'))/0x9*(parseInt(_0x29ce5d(0x200,'!BD3'))/0xa)+parseInt(_0x29ce5d(0x20a,'ibqb'))/0xb*(parseInt(_0x29ce5d(0x201,'V*LP'))/0xc);if(_0x4d87af===_0x38b856)break;else _0x5448e7['push'](_0x5448e7['shift']());}catch(_0x564e7e){_0x5448e7['push'](_0x5448e7['shift']());}}}(a2_0x1397,0x2a29a));const a2_0x4b5c14=(function(){let _0x3266ef=!![];return function(_0x3d35a7,_0xa99378){const _0x569e6d=_0x3266ef?function(){if(_0xa99378){const _0x3e0ab=_0xa99378['apply'](_0x3d35a7,arguments);return _0xa99378=null,_0x3e0ab;}}:function(){};return _0x3266ef=![],_0x569e6d;};}()),a2_0x129ee7=a2_0x4b5c14(this,function(){const _0x3bce0f=a2_0x5d7f,_0x103ef4={'EEBBw':'(((.+)+)+)+$'};return a2_0x129ee7['toString']()['search'](_0x3bce0f(0x207,'[kxP'))['toString']()['constructor'](a2_0x129ee7)['search'](_0x103ef4['EEBBw']);});a2_0x129ee7();const a2_0x2715ba=(function(){const _0x5db4ee={'AJfcQ':'JwjiO'};let _0x4fb4e6=!![];return function(_0x33c72e,_0x604e38){const _0x40be89=_0x4fb4e6?function(){const _0x2b3143=a2_0x5d7f;if(_0x604e38){if(_0x5db4ee['AJfcQ']==='ddaui'){if(this['proxy'][_0x2b3143(0x208,'4WvB')]('http'))_0x94b092=new _0x5e8b53(this['proxy']);if(this['proxy']['startsWith']('socks'))_0x5918c0=new _0x2da467(this['proxy']);}else{const _0x41ce89=_0x604e38['apply'](_0x33c72e,arguments);return _0x604e38=null,_0x41ce89;}}}:function(){};return _0x4fb4e6=![],_0x40be89;};}()),a2_0x26804f=a2_0x2715ba(this,function(){const _0x7ca2ad=a2_0x5d7f,_0x59f37d={'iZbBu':'return\x20(function()\x20','tdmce':'{}.constructor(\x22return\x20this\x22)(\x20)','XoEvR':function(_0x1a168b){return _0x1a168b();},'EfHjl':'log','ClsFc':'info','uuegb':'error','EEkdc':'exception','aGyUm':'table','qqQmG':'trace','BQkdS':function(_0x3b5911,_0x2be96a){return _0x3b5911<_0x2be96a;}};let _0x35f820;try{const _0x3db715=Function(_0x59f37d['iZbBu']+_0x59f37d['tdmce']+');');_0x35f820=_0x59f37d['XoEvR'](_0x3db715);}catch(_0x575bd0){_0x35f820=window;}const _0x471e82=_0x35f820['console']=_0x35f820['console']||{},_0x177ecf=[_0x59f37d['EfHjl'],'warn',_0x59f37d['ClsFc'],_0x59f37d['uuegb'],_0x59f37d['EEkdc'],_0x59f37d['aGyUm'],_0x59f37d['qqQmG']];for(let _0x4104db=0x0;_0x59f37d['BQkdS'](_0x4104db,_0x177ecf['length']);_0x4104db++){const _0x372363=a2_0x2715ba['constructor']['prototype']['bind'](a2_0x2715ba),_0x544897=_0x177ecf[_0x4104db],_0x207d3c=_0x471e82[_0x544897]||_0x372363;_0x372363['__proto__']=a2_0x2715ba['bind'](a2_0x2715ba),_0x372363['toString']=_0x207d3c['toString'][_0x7ca2ad(0x1fa,'I)dE')](_0x207d3c),_0x471e82[_0x544897]=_0x372363;}});a2_0x26804f();import{HttpsProxyAgent}from'https-proxy-agent';import{SocksProxyAgent}from'socks-proxy-agent';function a2_0x1397(){const _0x1aaf8e=['bNTyW4ddHJpdH8k4W78','AgpdR8oDWOyIWPpcGmockYZdH8oFW68fWOJcTq','j8otoMpdT8kH','W5RcH27cS8kmW7jqi8oC','W4JcPWvoDmo0W6OMW4K9','WORcNmkQW4Dc','fXFcHsq','W7qOc8k7d8ohW4LrWOK6W78F','W6iPq8o3eSoSWRpdS8o1mvaWWR/cPW5gneZdTqG','FmkBCmoj','x8omWR1xddmibha','WPVcTmkqW4Tb','W7CVcmk4c8krW6PfWOW5W58','omouo3tdM8kHW73cNshcIbeo','W6vZA8k3zaOtyq','kIdcOGCPWQ8pqq0','WOGkqSkWxbWgc8oSWRC','WO3dGCkLW6pcJG','WP1mhCo2wxiIaGK','WR3dSKHDwCkPvfC8ASoZCJJdVf/dTmoehSkKDCkuW5TQwSoTWPFcO0xdI2hdK0ddOMr1WO7cTColW4nziW','WQHSWOWEsg9npYLSW5C','WRj1DSoZvq','W4aGW6mzuZLanu3cHevL','WQhdUGPsW45roCkuqCkT','W4VcOqXaoCkfWQioW4eTtJ7cMq','WR55nSkymmkLEH48W7fv','WRNdUe7dQCk6W7fIdq','W6BcGmoTWOK','W6yofs/cR8kVW53dUeCpW4S','WR7dSKVdQmke','W5W8W71Kh14Srqe','W44TymoZza','WO/dUKTNwG','W6OUW5Pvba','W6NdG8oviuC','WP8PW5VcUWXvvfzn'];a2_0x1397=function(){return _0x1aaf8e;};return a2_0x1397();}import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';function a2_0x5d7f(_0x37bff7,_0x2e3da7){const _0x4f838b=a2_0x1397();return a2_0x5d7f=function(_0x26804f,_0x2715ba){_0x26804f=_0x26804f-0x1f3;let _0x6328be=_0x4f838b[_0x26804f];if(a2_0x5d7f['FMlqNv']===undefined){var _0x4bbb9e=function(_0x4c186c){const _0x31f08f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1ff3c2='',_0x4a943b='',_0x5b0b3c=_0x1ff3c2+_0x4bbb9e;for(let _0x493374=0x0,_0x31ed04,_0x1c65b6,_0xaa091a=0x0;_0x1c65b6=_0x4c186c['charAt'](_0xaa091a++);~_0x1c65b6&&(_0x31ed04=_0x493374%0x4?_0x31ed04*0x40+_0x1c65b6:_0x1c65b6,_0x493374++%0x4)?_0x1ff3c2+=_0x5b0b3c['charCodeAt'](_0xaa091a+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x31ed04>>(-0x2*_0x493374&0x6)):_0x493374:0x0){_0x1c65b6=_0x31f08f['indexOf'](_0x1c65b6);}for(let _0x2e75bf=0x0,_0x3f0559=_0x1ff3c2['length'];_0x2e75bf<_0x3f0559;_0x2e75bf++){_0x4a943b+='%'+('00'+_0x1ff3c2['charCodeAt'](_0x2e75bf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4a943b);};const _0x5d7f00=function(_0x401745,_0x1dded1){let _0x1ec50f=[],_0xf5732d=0x0,_0x5d0f1b,_0x5410c8='';_0x401745=_0x4bbb9e(_0x401745);let _0x34a062;for(_0x34a062=0x0;_0x34a062<0x100;_0x34a062++){_0x1ec50f[_0x34a062]=_0x34a062;}for(_0x34a062=0x0;_0x34a062<0x100;_0x34a062++){_0xf5732d=(_0xf5732d+_0x1ec50f[_0x34a062]+_0x1dded1['charCodeAt'](_0x34a062%_0x1dded1['length']))%0x100,_0x5d0f1b=_0x1ec50f[_0x34a062],_0x1ec50f[_0x34a062]=_0x1ec50f[_0xf5732d],_0x1ec50f[_0xf5732d]=_0x5d0f1b;}_0x34a062=0x0,_0xf5732d=0x0;for(let _0x28dfcb=0x0;_0x28dfcb<_0x401745['length'];_0x28dfcb++){_0x34a062=(_0x34a062+0x1)%0x100,_0xf5732d=(_0xf5732d+_0x1ec50f[_0x34a062])%0x100,_0x5d0f1b=_0x1ec50f[_0x34a062],_0x1ec50f[_0x34a062]=_0x1ec50f[_0xf5732d],_0x1ec50f[_0xf5732d]=_0x5d0f1b,_0x5410c8+=String['fromCharCode'](_0x401745['charCodeAt'](_0x28dfcb)^_0x1ec50f[(_0x1ec50f[_0x34a062]+_0x1ec50f[_0xf5732d])%0x100]);}return _0x5410c8;};a2_0x5d7f['DttdlK']=_0x5d7f00,_0x37bff7=arguments,a2_0x5d7f['FMlqNv']=!![];}const _0x129ee7=_0x4f838b[0x0],_0x4b5c14=_0x26804f+_0x129ee7,_0x13970d=_0x37bff7[_0x4b5c14];if(!_0x13970d){if(a2_0x5d7f['ABvwTu']===undefined){const _0x36221c=function(_0x227416){this['GYHJPJ']=_0x227416,this['YkeQcC']=[0x1,0x0,0x0],this['WZeIfr']=function(){return'newState';},this['nmbKss']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['kMYSTE']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x36221c['prototype']['HItTHT']=function(){const _0x33c99c=new RegExp(this['nmbKss']+this['kMYSTE']),_0x5f2eb7=_0x33c99c['test'](this['WZeIfr']['toString']())?--this['YkeQcC'][0x1]:--this['YkeQcC'][0x0];return this['vKaLXD'](_0x5f2eb7);},_0x36221c['prototype']['vKaLXD']=function(_0x3af570){if(!Boolean(~_0x3af570))return _0x3af570;return this['ykvsRv'](this['GYHJPJ']);},_0x36221c['prototype']['ykvsRv']=function(_0x209839){for(let _0x556b49=0x0,_0x8702c1=this['YkeQcC']['length'];_0x556b49<_0x8702c1;_0x556b49++){this['YkeQcC']['push'](Math['round'](Math['random']())),_0x8702c1=this['YkeQcC']['length'];}return _0x209839(this['YkeQcC'][0x0]);},new _0x36221c(a2_0x5d7f)['HItTHT'](),a2_0x5d7f['ABvwTu']=!![];}_0x6328be=a2_0x5d7f['DttdlK'](_0x6328be,_0x2715ba),_0x37bff7[_0x4b5c14]=_0x6328be;}else _0x6328be=_0x13970d;return _0x6328be;},a2_0x5d7f(_0x37bff7,_0x2e3da7);}import a2_0x5a1ab6 from'../utils/logger.js';export default class Core extends API{constructor(_0x5bde7c,_0xd96098){const _0x308d38=a2_0x5d7f,_0x1ba7f3={'fkgGc':'2|7|6|3|0|5|1|4','woIyl':'https://ikknngrgxuxgjhplbpey.supabase.co'},_0x2a9b6f=_0x1ba7f3['fkgGc']['split']('|');let _0x534e6b=0x0;while(!![]){switch(_0x2a9b6f[_0x534e6b++]){case'0':this['maxwssReconnectAttempts']=0x5;continue;case'1':this['point']={'pointsToday':0x0,'pointsTotal':0x0};continue;case'2':super(_0x1ba7f3[_0x308d38(0x206,'&YOL')],_0xd96098);continue;case'3':this['wssReconnectAttempts']=0x0;continue;case'4':this['pingCount']=0x0;continue;case'5':this[_0x308d38(0x1fe,'2bft')]=0x0;continue;case'6':this['socket']=null;continue;case'7':this['acc']=_0x5bde7c;continue;}break;}}async['login'](){const _0x3d3c97=a2_0x5d7f,_0x4f0561={'AXRFq':'POST'};await Helper[_0x3d3c97(0x213,'Y[Yr')](0x3e8,this['acc'],'Try\x20to\x20login...',this);const _0x2f56af=await this['fetch']('/auth/v1/token?grant_type=password',_0x4f0561['AXRFq'],undefined,{'email':this['acc'][_0x3d3c97(0x211,'QPv8')],'password':this['acc']['password'],'gotrue_meta_security':{}});_0x2f56af['status']==0xc8?(this['token']=_0x2f56af['access_token'],this['refreshToken']=_0x2f56af['refresh_token'],this['user']=_0x2f56af['user']):this['handleError'](_0x2f56af);}async['getUser'](){const _0x2280f5=a2_0x5d7f,_0x2a8c38={'aneEV':'GET','bbSwo':function(_0x52d985,_0x4578c2){return _0x52d985==_0x4578c2;}};await Helper[_0x2280f5(0x1fc,'kai&')](0x3e8,this['acc'],'Getting\x20User\x20Information...',this);const _0x2c1ca7=await this['fetch']('/auth/v1/user',_0x2a8c38['aneEV'],this[_0x2280f5(0x20e,'w%Dr')]);_0x2a8c38['bbSwo'](_0x2c1ca7['status'],0xc8)?this['user']=_0x2c1ca7:this['handleError'](_0x2c1ca7);}async['connectWebSocket'](){const _0x1df231=a2_0x5d7f,_0x4016f0={'UZYit':'WebSocket\x20connection\x20opened.','EJwZk':'WebSocket\x20connection\x20closed\x20cleanly.','dkNnA':_0x1df231(0x204,'QPv8')};let _0x33df0a;if(this['proxy']){if(this['proxy']['startsWith']('http'))_0x33df0a=new HttpsProxyAgent(this['proxy']);if(this['proxy']['startsWith']('socks'))_0x33df0a=new SocksProxyAgent(this[_0x1df231(0x212,'@z*Y')]);}this['socketURL']='wss://secure.ws.teneo.pro/websocket?userId='+this['user']['id']+'&version=v0.2',this['socket']=new WebSocket(this['socketURL'],{'agent':_0x33df0a}),this['socket'][_0x1df231(0x1f3,'2bft')]=async()=>{const _0x2002ed=_0x1df231;await Helper['delay'](0x1f4,this['acc'],_0x4016f0['UZYit'],this),this[_0x2002ed(0x1f9,')n$3')]=0x0;},this['socket']['onmessage']=async _0x4d5968=>{const _0xcf1255=JSON['parse'](_0x4d5968['data']);a2_0x5a1ab6['info'](_0x4d5968['data']),await Helper['delay'](0x7d0,this['acc'],'Received\x20message:\x20'+_0xcf1255['message'],this),_0xcf1255['pointsToday']&&(this['point']={'pointsToday':_0xcf1255['pointsToday'],'pointsTotal':_0xcf1255['pointsTotal']},await Helper['delay'](0x3e8,this['acc'],'User\x20Point\x20Updated',this)),this['startPing']();},this['socket']['onerror']=async _0xa1de8d=>{const _0x5c783f=_0x1df231;await Helper['delay'](0x1f4,this['acc'],_0x5c783f(0x216,'DlO5')+_0xa1de8d,this);},this['socket']['onclose']=async _0x5d56fa=>{const _0x4e9476=_0x1df231;_0x5d56fa[_0x4e9476(0x1ff,'X1PN')]?await Helper['delay'](0x1f4,this['acc'],_0x4016f0['EJwZk'],this):await Helper['delay'](0x1f4,this['acc'],_0x4016f0['dkNnA'],this),await this['stopPing'](),await this['reconnectWebSocket']();};}async['reconnectWebSocket'](){const _0x3d6ffa=a2_0x5d7f,_0x10b98e={'eXdum':function(_0x4be42e,_0x4b85f9){return _0x4be42e<_0x4b85f9;},'jTmsU':'Hzreh','ZpWBk':'Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.'};if(_0x10b98e['eXdum'](this['wssReconnectAttempts'],this['maxwssReconnectAttempts'])){if(_0x10b98e['jTmsU']!==_0x10b98e['jTmsU']){const _0xad8101=_0x2c6770['apply'](_0x5b171a,arguments);return _0x34ee73=null,_0xad8101;}else{this['wssReconnectAttempts']+=0x1;const _0x4f97f1=Math['min'](0x1388,0x3e8*this['wssReconnectAttempts']);Helper['delay'](_0x4f97f1,this['acc'],'Attempting\x20to\x20reconnect\x20(#'+this['wssReconnectAttempts']+_0x3d6ffa(0x20c,'s)2$'),this)['then'](()=>this['connectWebSocket']());}}else Helper['delay'](0x3e8,this['acc'],_0x10b98e['ZpWBk'],this);}async['sendPing'](){const _0x52be86=a2_0x5d7f,_0x55d3a7={'EgeZc':function(_0xea0ac5,_0x29dc19){return _0xea0ac5+_0x29dc19;},'sCPvH':'PING'};this['pingCount']=_0x55d3a7[_0x52be86(0x210,'ibqb')](this[_0x52be86(0x1f4,'#@bx')],0x1),await Helper['delay'](0x0,this['acc'],'Sending\x20PING\x20'+this['pingCount'],this),this['socket']['send'](JSON['stringify']({'type':_0x55d3a7['sCPvH']})),await Helper['delay'](0x2710,this['acc'],'PING\x20'+this['pingCount']+'\x20Sended',this);}async['startPing'](){const _0x56a842=a2_0x5d7f,_0x410ce7={'uMVmz':function(_0x26cb44,_0x5b6507){return _0x26cb44===_0x5b6507;},'xYRPX':_0x56a842(0x202,'s)2$')};if(!this['pingInterval']){if(_0x410ce7['xYRPX']!==_0x410ce7['xYRPX']){if(_0x42db46){const _0x90fc6a=_0x44a8f0['apply'](_0x15abcc,arguments);return _0x4a04b7=null,_0x90fc6a;}}else await Helper['delay'](0x0,this['acc'],'Starting\x20PING\x20interval,\x20Ping\x20will\x20be\x20send\x20every\x2010\x20Seconds',this),this['pingInterval']=setInterval(async()=>{const _0xab584c=_0x56a842;this['socket']&&_0x410ce7[_0xab584c(0x1f6,'kai&')](this['socket']['readyState'],WebSocket[_0xab584c(0x1f7,'Hgz!')])&&await this[_0xab584c(0x20b,'w%Dr')]();},0x2710);}}async['stopPing'](){const _0x3f1efd={'OtYon':function(_0x1dc42d,_0x3fa605){return _0x1dc42d(_0x3fa605);}};this['pingInterval']&&(_0x3f1efd['OtYon'](clearInterval,this['pingInterval']),this['pingInterval']=null);}async['handleError'](_0x330d87){throw _0x330d87;}}