const a2_0xe0bc1=a2_0xde2c;(function(_0x2d6a97,_0x17c3d5){const _0x3115cb=a2_0xde2c,_0x37864f=_0x2d6a97();while(!![]){try{const _0x4ed9cd=parseInt(_0x3115cb(0x198,'4Haw'))/0x1+parseInt(_0x3115cb(0x184,'8hiu'))/0x2*(parseInt(_0x3115cb(0x18a,'n!]@'))/0x3)+-parseInt(_0x3115cb(0x192,'%$nN'))/0x4*(parseInt(_0x3115cb(0x187,'4Haw'))/0x5)+parseInt(_0x3115cb(0x191,'gCdO'))/0x6*(parseInt(_0x3115cb(0x193,'K&90'))/0x7)+-parseInt(_0x3115cb(0x19b,'44@P'))/0x8+parseInt(_0x3115cb(0x19d,'z@2H'))/0x9+-parseInt(_0x3115cb(0x190,'*Y!U'))/0xa;if(_0x4ed9cd===_0x17c3d5)break;else _0x37864f['push'](_0x37864f['shift']());}catch(_0x51b325){_0x37864f['push'](_0x37864f['shift']());}}}(a2_0x480c,0xc9e72));const a2_0x2ebafd=(function(){let _0x36b575=!![];return function(_0x2766cc,_0x53b038){const _0x1ee739=_0x36b575?function(){if(_0x53b038){const _0x48fb2e=_0x53b038['apply'](_0x2766cc,arguments);return _0x53b038=null,_0x48fb2e;}}:function(){};return _0x36b575=![],_0x1ee739;};}()),a2_0x20ccae=a2_0x2ebafd(this,function(){const _0x157283=a2_0xde2c,_0x54c807={'oHdLh':'(((.+)+)+)+$'};return a2_0x20ccae[_0x157283(0x188,'gCdO')]()['search'](_0x54c807['oHdLh'])['toString']()['constructor'](a2_0x20ccae)['search'](_0x54c807['oHdLh']);});a2_0x20ccae();const a2_0x4bff82=(function(){let _0x557d35=!![];return function(_0x19ddc5,_0x318c2a){const _0x16619c=_0x557d35?function(){if(_0x318c2a){const _0x3980c7=_0x318c2a['apply'](_0x19ddc5,arguments);return _0x318c2a=null,_0x3980c7;}}:function(){};return _0x557d35=![],_0x16619c;};}()),a2_0x13cc42=a2_0x4bff82(this,function(){const _0x2424c4={'CbciL':function(_0x42df7e,_0x2f4517){return _0x42df7e+_0x2f4517;},'VvnIu':'{}.constructor(\x22return\x20this\x22)(\x20)','uZBeW':function(_0x2bcffc){return _0x2bcffc();},'yTMSz':function(_0x5c97ee,_0x395b90){return _0x5c97ee===_0x395b90;},'VVCnD':'elUAC','Rjmos':'log','QpWxf':'info','rDTDi':'error','MAHPM':'table','BPFpB':'trace','OaAOK':function(_0xc3391c,_0x31d924){return _0xc3391c<_0x31d924;}};let _0x23f6bb;try{const _0x5db147=Function(_0x2424c4['CbciL']('return\x20(function()\x20',_0x2424c4['VvnIu'])+');');_0x23f6bb=_0x2424c4['uZBeW'](_0x5db147);}catch(_0x10dc0b){_0x2424c4['yTMSz']('vVQBu',_0x2424c4['VVCnD'])?this['handleError'](_0x2a2da0):_0x23f6bb=window;}const _0x52cd96=_0x23f6bb['console']=_0x23f6bb['console']||{},_0x400dff=[_0x2424c4['Rjmos'],'warn',_0x2424c4['QpWxf'],_0x2424c4['rDTDi'],'exception',_0x2424c4['MAHPM'],_0x2424c4['BPFpB']];for(let _0x17c782=0x0;_0x2424c4['OaAOK'](_0x17c782,_0x400dff['length']);_0x17c782++){const _0x380a61=a2_0x4bff82['constructor']['prototype']['bind'](a2_0x4bff82),_0x33daf0=_0x400dff[_0x17c782],_0x9519cb=_0x52cd96[_0x33daf0]||_0x380a61;_0x380a61['__proto__']=a2_0x4bff82['bind'](a2_0x4bff82),_0x380a61['toString']=_0x9519cb['toString']['bind'](_0x9519cb),_0x52cd96[_0x33daf0]=_0x380a61;}});function a2_0xde2c(_0x1235b6,_0x1d2232){const _0x4d71e8=a2_0x480c();return a2_0xde2c=function(_0x13cc42,_0x4bff82){_0x13cc42=_0x13cc42-0x184;let _0x223e45=_0x4d71e8[_0x13cc42];if(a2_0xde2c['aFYaas']===undefined){var _0x2191bf=function(_0x5c26a9){const _0x343375='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x463fe9='',_0x23e640='',_0x504ede=_0x463fe9+_0x2191bf;for(let _0x59cb5f=0x0,_0x851329,_0xde5b76,_0xe22643=0x0;_0xde5b76=_0x5c26a9['charAt'](_0xe22643++);~_0xde5b76&&(_0x851329=_0x59cb5f%0x4?_0x851329*0x40+_0xde5b76:_0xde5b76,_0x59cb5f++%0x4)?_0x463fe9+=_0x504ede['charCodeAt'](_0xe22643+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x851329>>(-0x2*_0x59cb5f&0x6)):_0x59cb5f:0x0){_0xde5b76=_0x343375['indexOf'](_0xde5b76);}for(let _0x51be0d=0x0,_0x495191=_0x463fe9['length'];_0x51be0d<_0x495191;_0x51be0d++){_0x23e640+='%'+('00'+_0x463fe9['charCodeAt'](_0x51be0d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x23e640);};const _0xde2cda=function(_0x46f1da,_0x13382f){let _0x2c7c83=[],_0x43e0c7=0x0,_0x33487c,_0x3fe3a8='';_0x46f1da=_0x2191bf(_0x46f1da);let _0x46f3ec;for(_0x46f3ec=0x0;_0x46f3ec<0x100;_0x46f3ec++){_0x2c7c83[_0x46f3ec]=_0x46f3ec;}for(_0x46f3ec=0x0;_0x46f3ec<0x100;_0x46f3ec++){_0x43e0c7=(_0x43e0c7+_0x2c7c83[_0x46f3ec]+_0x13382f['charCodeAt'](_0x46f3ec%_0x13382f['length']))%0x100,_0x33487c=_0x2c7c83[_0x46f3ec],_0x2c7c83[_0x46f3ec]=_0x2c7c83[_0x43e0c7],_0x2c7c83[_0x43e0c7]=_0x33487c;}_0x46f3ec=0x0,_0x43e0c7=0x0;for(let _0x1ae784=0x0;_0x1ae784<_0x46f1da['length'];_0x1ae784++){_0x46f3ec=(_0x46f3ec+0x1)%0x100,_0x43e0c7=(_0x43e0c7+_0x2c7c83[_0x46f3ec])%0x100,_0x33487c=_0x2c7c83[_0x46f3ec],_0x2c7c83[_0x46f3ec]=_0x2c7c83[_0x43e0c7],_0x2c7c83[_0x43e0c7]=_0x33487c,_0x3fe3a8+=String['fromCharCode'](_0x46f1da['charCodeAt'](_0x1ae784)^_0x2c7c83[(_0x2c7c83[_0x46f3ec]+_0x2c7c83[_0x43e0c7])%0x100]);}return _0x3fe3a8;};a2_0xde2c['yTfZop']=_0xde2cda,_0x1235b6=arguments,a2_0xde2c['aFYaas']=!![];}const _0x20ccae=_0x4d71e8[0x0],_0x2ebafd=_0x13cc42+_0x20ccae,_0x480ca0=_0x1235b6[_0x2ebafd];if(!_0x480ca0){if(a2_0xde2c['umKiIl']===undefined){const _0x8715af=function(_0x45e929){this['BBhCCT']=_0x45e929,this['IytjSE']=[0x1,0x0,0x0],this['uFlgCM']=function(){return'newState';},this['VByMFF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['VJeRFt']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x8715af['prototype']['UzgdiX']=function(){const _0x534e65=new RegExp(this['VByMFF']+this['VJeRFt']),_0x464f40=_0x534e65['test'](this['uFlgCM']['toString']())?--this['IytjSE'][0x1]:--this['IytjSE'][0x0];return this['lRfOYs'](_0x464f40);},_0x8715af['prototype']['lRfOYs']=function(_0x4b1744){if(!Boolean(~_0x4b1744))return _0x4b1744;return this['lMPOvj'](this['BBhCCT']);},_0x8715af['prototype']['lMPOvj']=function(_0x402f1b){for(let _0x312763=0x0,_0x4eb19d=this['IytjSE']['length'];_0x312763<_0x4eb19d;_0x312763++){this['IytjSE']['push'](Math['round'](Math['random']())),_0x4eb19d=this['IytjSE']['length'];}return _0x402f1b(this['IytjSE'][0x0]);},new _0x8715af(a2_0xde2c)['UzgdiX'](),a2_0xde2c['umKiIl']=!![];}_0x223e45=a2_0xde2c['yTfZop'](_0x223e45,_0x4bff82),_0x1235b6[_0x2ebafd]=_0x223e45;}else _0x223e45=_0x480ca0;return _0x223e45;},a2_0xde2c(_0x1235b6,_0x1d2232);}a2_0x13cc42();function a2_0x480c(){const _0x2ff24f=['W5hcHJlcV0HKW4bUWPRcQhtcHMVcLZhcSvVcPhJcJSkfwCkUzIi8zmksWPVcPLBdV1NcVq','wuNcNHlcGG','pSkps33dPKrDW4G','t8oyWQPWgbpcOr8','jmomW6BcJ8opW7FcOmk3zW','W6aqWQqzWRhcMq4','g8kdqJPcW57cLuep','W7hcMJldHeBcRLFcICkebuTOWPJcQSokWR8','gCkqimo+lW','WQLXtCkCdNawWRVcHSkAdmk0WPBcTmk2vq','wCkSWP8+WQFcJ8k5W5Lyu2H/fxG3fY4ulg3dIGhcHtRcOhSuW4NcMmkUWQPPr8kjjGmPkSkhWPdcSq','WPVcQa/dU1/dSSkEumoDp8o0D8oacG','dCoWWQbGpdVcNq','gI3cV8kcg8kSWOLDW59AWRetWOu','W7hdRSoFWR3dUKRcJfnwW69MW74','W54hqv/dHG','dmkjttbE','WRGWWOetceddLSk9oW','W4hcGt3dMfFcPe3cUCobn1fjWRZdOCogWQvmBmk8WRFdVmotCmkgtHBcOmkNW4pdQHBdPmolmmogirOtW7VdOqm5W4RcVsibsmk0WPbcWQZcMGxcLmoYy8kBWR0','omkkbtRcJrzTW440wtpcMG','WPhcQX5i','WQnvDq','WR07lSoLqdn2W68jqqtcS8kS','ymkSW5hdSmkmAq','W4tdVL0rpvdcTCkzW77dJGZdMCoaFa','WPOXsfddM2VcGW','W7SUgSogwIDAWP/cQCknlmkbWQq'];a2_0x480c=function(){return _0x2ff24f;};return a2_0x480c();}import{HttpsProxyAgent}from'https-proxy-agent';import{SocksProxyAgent}from'socks-proxy-agent';import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';import a2_0x3bb1d8 from'../utils/logger.js';export default class Core extends API{constructor(_0x3ea221,_0xcf4e3d){const _0x1242bb=a2_0xde2c,_0x2d35f1={'TkIMf':'4|6|7|2|3|1|5|0'},_0x3f49dc=_0x2d35f1['TkIMf'][_0x1242bb(0x186,'XI0w')]('|');let _0x2ac306=0x0;while(!![]){switch(_0x3f49dc[_0x2ac306++]){case'0':this['pingCount']=0x0;continue;case'1':this['pingInterval']=0x0;continue;case'2':this['wssReconnectAttempts']=0x0;continue;case'3':this['maxwssReconnectAttempts']=0x5;continue;case'4':super('https://ikknngrgxuxgjhplbpey.supabase.co',_0xcf4e3d);continue;case'5':this['point']={'pointsToday':0x0,'pointsTotal':0x0};continue;case'6':this['acc']=_0x3ea221;continue;case'7':this['socket']=null;continue;}break;}}async['login'](){const _0x36d488=a2_0xde2c;await Helper['delay'](0x3e8,this['acc'],'Try\x20to\x20login...',this);const _0x50d775=await this['fetch'](_0x36d488(0x185,'#0b^'),'POST',undefined,{'email':this['acc']['email'],'password':this['acc']['password'],'gotrue_meta_security':{}});_0x50d775['status']==0xc8?(this['token']=_0x50d775['access_token'],this['refreshToken']=_0x50d775['refresh_token'],this['user']=_0x50d775['user']):this['handleError'](_0x50d775);}async['getUser'](){const _0x3a9302={'TtJws':'GET'};await Helper['delay'](0x3e8,this['acc'],'Getting\x20User\x20Information...',this);const _0x2f9152=await this['fetch']('/auth/v1/user',_0x3a9302['TtJws'],this['token']);_0x2f9152['status']==0xc8?this['user']=_0x2f9152:this['handleError'](_0x2f9152);}async[a2_0xe0bc1(0x18e,'8hiu')](){const _0x588619=a2_0xe0bc1,_0x50f906={'wPgib':'WebSocket\x20connection\x20opened.'};let _0x34f2a3;if(this['proxy']){if(this['proxy']['startsWith']('http'))_0x34f2a3=new HttpsProxyAgent(this['proxy']);if(this['proxy']['startsWith']('socks'))_0x34f2a3=new SocksProxyAgent(this['proxy']);}this[_0x588619(0x18b,'rnLA')]='wss://secure.ws.teneo.pro/websocket?userId='+this['user']['id'],this['socket']=new WebSocket(this[_0x588619(0x189,'A!LG')],{'agent':_0x34f2a3}),this['socket']['onopen']=async()=>{const _0x4aa4d2=_0x588619;await Helper[_0x4aa4d2(0x194,'j](T')](0x1f4,this['acc'],_0x50f906['wPgib'],this),this['wssReconnectAttempts']=0x0;},this['socket']['onmessage']=async _0x5c55a2=>{const _0x8b6fd2=_0x588619,_0x190f7c=JSON['parse'](_0x5c55a2['data']);a2_0x3bb1d8['info'](_0x5c55a2[_0x8b6fd2(0x199,'z@2H')]),await Helper['delay'](0x7d0,this['acc'],'Received\x20message:\x20'+_0x190f7c['message'],this),_0x190f7c['pointsToday']&&(this['point']={'pointsToday':_0x190f7c['pointsToday'],'pointsTotal':_0x190f7c['pointsTotal']},await Helper['delay'](0x3e8,this['acc'],'User\x20Point\x20Updated',this)),this['startPing']();},this['socket']['onerror']=async _0x1be91e=>{const _0x341e34=_0x588619;await Helper[_0x341e34(0x195,'rnLA')](0x1f4,this['acc'],'WebSocket\x20error:\x20'+_0x1be91e,this);},this['socket']['onclose']=async _0xc659a8=>{const _0x32c31e=_0x588619;_0xc659a8['wasClean']?await Helper['delay'](0x1f4,this['acc'],'WebSocket\x20connection\x20closed\x20cleanly.',this):await Helper['delay'](0x1f4,this[_0x32c31e(0x19a,'AEyh')],_0x32c31e(0x18f,'nMz5'),this),await this['stopPing'](),await this['reconnectWebSocket']();};}async['reconnectWebSocket'](){const _0x230195=a2_0xe0bc1;if(this['wssReconnectAttempts']<this['maxwssReconnectAttempts']){this['wssReconnectAttempts']+=0x1;const _0xc2c7fe=Math['min'](0x1388,0x3e8*this['wssReconnectAttempts']);Helper['delay'](_0xc2c7fe,this['acc'],'Attempting\x20to\x20reconnect\x20(#'+this['wssReconnectAttempts']+')...',this)['then'](()=>this[_0x230195(0x18c,'#Gex')]());}else Helper['delay'](0x3e8,this['acc'],'Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.',this);}async['sendPing'](){const _0x476b81=a2_0xe0bc1,_0x2b2cd3={'cNNUu':'PING'};this['pingCount']=this[_0x476b81(0x196,'P6Ae')]+0x1,await Helper['delay'](0x0,this['acc'],'Sending\x20PING\x20'+this['pingCount'],this),this['socket']['send'](JSON['stringify']({'type':_0x2b2cd3['cNNUu']})),await Helper['delay'](0x2710,this['acc'],'PING\x20'+this['pingCount']+_0x476b81(0x19e,'j](T'),this);}async['startPing'](){const _0x28a8fd=a2_0xe0bc1,_0xe14f69={'KiHYl':function(_0x3f0a62,_0x379fec,_0x56fb60){return _0x3f0a62(_0x379fec,_0x56fb60);}};!this['pingInterval']&&(await Helper['delay'](0x0,this['acc'],_0x28a8fd(0x197,'#Gex'),this),this['pingInterval']=_0xe14f69[_0x28a8fd(0x18d,'Du2d')](setInterval,async()=>{const _0x1ab7e2=_0x28a8fd;this[_0x1ab7e2(0x19c,'7O$m')]&&this['socket']['readyState']===WebSocket['OPEN']&&await this['sendPing']();},0x2710));}async['stopPing'](){this['pingInterval']&&(clearInterval(this['pingInterval']),this['pingInterval']=null);}async['handleError'](_0xc328e5){throw _0xc328e5;}}